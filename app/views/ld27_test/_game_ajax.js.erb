var GameAjax = {
  send:function()
  {
    $.ajax({
      url: '/ld27_test/data?r='+Math.random(1000000), 
      data: { 
        username: PLAYER_UID,
        ship: {
          HP:         GamePlayer.ship.HP,
          HPmax:      GamePlayer.ship.HPmax,
          x:          GamePlayer.ship.x,
          y:          GamePlayer.ship.y,
          velocityX:  GamePlayer.ship.velocityX,
          velocityY:  GamePlayer.ship.velocityY,
          rot:        GamePlayer.ship.rot
        },
        bullets: GameBullets.bullets_to_sync
      },
      type: 'POST',
      dataType: 'json',
      error: function(data, textStatus, jqXHR){
        console.log("Oops")
      },
      success: function(data, textStatus, jqXHR){
        GameOpponents.opponents = []
        for(var i=0;i<data.players.length;i++)
        {
          GameOpponents.opponents[i] = new GameOpponent(data.players[i])
        }
        
        for(var i=0;i<data.bullets.length;i++)
        {
          if(GameBullets.bullets_seen.indexOf(data.bullets[i]['id']) === -1)
          {
            GameBullets.bullets_seen.push(data.bullets[i]['id']) 
            GameBullets.addBulletFromJSON(data.bullets[i])
          }
        }
      }
    });
    // We sent the bullets to the server. That classes as 'best effort'
    // when it comes to this hackjob :D
    GameBullets.bullets_to_sync = []
  },
  recieve:function()
  {

  }
}